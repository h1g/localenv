#Полное название проекта
project_name: "{{ project + '-' + repo_name }}"
#Директория для хранения сервисных файлов развертываемого проекта
service_dir: "{{ services_dir + '/' + project_name }}"
#Директория для хранения исходного кода развертываемого проекта
source_dir:  "{{ sources_dir + '/' +  project_name }}"
#Директория для хранения конфигурационных файлов развертываемого проекта
config_dir:  "{{ configs_dir + '/' +  project_name }}"

#Домен верхнего уровня для генерации доменов локального окружения
tld_default: "localenv"

#Получаем имя пользователя из-под которого запущен плейбук
ansible_user: "{{ lookup('env','USER') }}"
#Получаем идетификатор основной группы пользователя из-под которого запущен плейбук
ansible_user_gid: "{{ lookup('pipe','id -g ' + ansible_user) }}"
#Получаем идентификатор пользователя из-под которого запущен плейбук
ansible_user_uid: "{{ lookup('pipe','id -u ' + ansible_user) }}"
#Получаем идетификатор docker группы
docker_gid: "{{ lookup('pipe','stat -c%g /var/run/docker.sock') }}"
#Получаем тип операционной системы пользователя
os_name: "{{ lookup('env','OS_NAME') }}"

#Задаем значение по умлочнаю для словаря примитивов docker-compose сервисов
services_primitives: {}

#Директория хранения примитивов сервисов docker-compose
services_primitives_path: "{{ playbook_dir + '/templates/services/' }}"

#Директория хранения директорий примитивов с Dockerfile для сервисов docker-compose
dockerfiles_primitives_path: "{{ playbook_dir + '/templates/Dockerfiles/' }}"

#Домашняя директория, в которой будут созданы папки для хранения кеша
home_dir: "{{ lookup('env','HOME') }}"

#Основной сервер хранения исходного кода проектов
source_server: "git@github.com:"
#Путь хранения репозитория с исходным кодом проекта
source_repo: "{{ source_server + project + '/' + repo_name + '.git' }}"
#Ветка по умолчанию при получении исходного кода из git репозитория
source_branch: "master"

#Будем ли получать конфиги
configs: false
#Путь хранения репозитория с конфигурационными файлами
config_repo: "{{ source_server + project + '/configs/' + repo_name + '.git' }}"
#Ветка по умолчанию при получении исходного кода из git репозитория
config_branch: "master"
#Название ветки конфигов которая подключается по умолчанию
config_parent: "master"

#Образ для CLI контейнера по умолчанию
cli_image: "ubuntu:latest"

#Словарь для определения пробрасываемых сервисных портов
services_ports:
  redis: "6379"
  postgres: "5432"
  mysql: "3306"
  mongo: "27017"
  rabbit: "15672"
